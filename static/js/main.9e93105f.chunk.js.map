{"version":3,"sources":["ImageViewer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ImageViewer","props","imageRef","React","createRef","state","currentScale","moveStart","x","y","moveBy","currentTransform","moving","zoomToFit","setTimeout","current","focus","this","setVisibility","setState","e","changeScaleState","currentZoom","zoom","zoom1","newZoom","deltaY","prevState","onClick","hide","onMouseDown","button","classList","add","clientX","clientY","preventDefault","onMouseUp","remove","onWheel","onMouseLeave","onMouseMove","contains","className","src","bind","Math","round","style","transform","onKeyDown","code","actualSize","key","tabIndex","draggable","alt","width","height","ref","Component","App","imgSource","images","i","push","selectImage","length","loadImages","useState","currentImage","setCurrentImage","source","visible","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e93105f.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./ImageViewer.css\";\n\ninterface IProps {\n  src: string;\n  setVisibility: (visible: boolean) => void;\n}\n\ninterface IState {\n  currentScale: number;\n  moveStart: { x: number; y: number };\n  moveBy: { x: number; y: number };\n  currentTransform: { x: number; y: number };\n  moving: boolean;\n  zoomToFit: boolean;\n}\nexport default class ImageViewer extends React.Component<IProps, IState> {\n  imageRef: React.RefObject<HTMLImageElement>;\n  constructor(props: IProps) {\n    super(props);\n    //\n    this.imageRef = React.createRef();\n    this.state = {\n      currentScale: 1,\n      moveStart: { x: 0, y: 0 },\n      moveBy: { x: 0, y: 0 },\n      currentTransform: { x: 0, y: 0 },\n      moving: false,\n      zoomToFit: false,\n    };\n  }\n\n  componentDidUpdate() {\n    setTimeout(() => {\n      this.imageRef.current?.focus();\n    }, 100);\n  }\n\n  hide() {\n    this.props.setVisibility(false);\n    this.setState({\n      currentScale: 1,\n      currentTransform: { x: 0, y: 0 },\n      moveBy: { x: 0, y: 0 },\n      moveStart: { x: 0, y: 0 },\n    });\n  }\n\n  actualSize() {\n    this.setState({\n      currentScale: 1,\n    });\n  }\n\n  zoomToFit() {\n    if (this.state.zoomToFit) {\n      this.setState({\n        currentScale: 1,\n      });\n    }\n\n    this.setState({ zoomToFit: !this.state.zoomToFit });\n  }\n\n  zoom(e: any) {\n    function changeScaleState(currentZoom: number, zoom: number) {\n      let zoom1 = zoom;\n      if (currentZoom < 1) {\n        zoom1 = zoom / 2;\n      }\n      let newZoom = currentZoom + zoom1;\n      if (newZoom > 0.1 && newZoom <= 3) {\n        return newZoom;\n      }\n      return currentZoom;\n    }\n\n    if (e.deltaY > 0) {\n      this.setState(function (prevState) {\n        return { currentScale: changeScaleState(prevState.currentScale, -0.1) };\n      });\n    } else if (e.deltaY < 0) {\n      this.setState(function (prevState) {\n        return { currentScale: changeScaleState(prevState.currentScale, 0.1) };\n      });\n    }\n  }\n  render() {\n    return (\n      <div\n        onClick={() => {\n          if (!this.state.moving) {\n            // e.preventDefault();\n            this.hide();\n          } else {\n            this.setState({ moving: false });\n          }\n        }}\n        onMouseDown={(e) => {\n          if (e.button === 0 || 1) {\n            this.imageRef.current?.classList.add(\"dragging\");\n            this.setState({ moveStart: { x: e.clientX, y: e.clientY } });\n          }\n\n          e.preventDefault();\n        }}\n        onMouseUp={(e) => {\n          if (e.button === 0 || 1) {\n            this.imageRef.current?.classList.remove(\"dragging\");\n            this.setState({\n              currentTransform: {\n                x: this.state.moveBy.x,\n                y: this.state.moveBy.y,\n              },\n            });\n          }\n        }}\n        onWheel={(e) => {\n          this.setState({ zoomToFit: false });\n          this.zoom(e);\n        }}\n        onMouseLeave={(e) => {\n          this.imageRef.current?.classList.remove(\"dragging\");\n          this.setState({\n            currentTransform: {\n              x: this.state.moveBy.x,\n              y: this.state.moveBy.y,\n            },\n          });\n        }}\n        onMouseMove={(e) => {\n          if (this.imageRef.current?.classList.contains(\"dragging\")) {\n            let scale = 1;\n            if (!this.state.moving) {\n              this.setState({ moving: true });\n            }\n            this.setState({\n              moveBy: {\n                x:\n                  (this.state.currentTransform.x +\n                    e.clientX -\n                    this.state.moveStart.x) *\n                  scale,\n                y:\n                  (this.state.currentTransform.y +\n                    e.clientY -\n                    this.state.moveStart.y) *\n                  scale,\n              },\n            });\n          }\n        }}\n        className={`image parent ${this.props.src === \"\" ? \"hidden\" : \"shown\"}`}\n      >\n        <div\n          onClick={this.hide.bind(this)}\n          className=\"overlay scale\"\n        >{`${Math.round(this.state.currentScale * 100)}%`}</div>\n        <div\n          className=\"imageParent\"\n          style={{\n            transform: `translate(${this.state.moveBy.x}px, ${this.state.moveBy.y}px)`,\n          }}\n        >\n          <img\n            onKeyDown={(e) => {\n              if (e.code === \"Escape\") {\n                this.hide();\n              }\n              if (e.code === \"Space\") {\n                // this.zoomToFit();\n                this.actualSize();\n              }\n              if (e.key === \"f\") {\n              }\n              //   ;\n              e.preventDefault();\n              //TODO:somehow add space/esc/f keys\n            }}\n            tabIndex={0}\n            draggable={false}\n            alt=\"Fullscreen\"\n            style={{\n              width: `${this.state.zoomToFit ? \"100vw\" : \"min-content\"}`,\n              height: `${this.state.zoomToFit ? \"100vh\" : \"min-content\"}`,\n              transform: `scale(${this.state.currentScale})`,\n            }}\n            ref={this.imageRef}\n            src={this.props.src}\n          ></img>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageViewer from \"./ImageViewer\";\n\nfunction App() {\n  const imgSource = [\n    \"https://danbooru.donmai.us/data/__makinami_mari_illustrious_neon_genesis_evangelion_and_1_more_drawn_by_nezzme__ad3eb8dda955837edbd21fd97333e736.jpg\",\n    \"https://danbooru.donmai.us/data/__kawai_rika_wonder_egg_priority_drawn_by_purrr__994fed595641e9d536a6777e0d86570c.jpg\",\n    \"https://danbooru.donmai.us/data/__kazano_hiori_idolmaster_and_1_more_drawn_by_world_create__e66b1802aa3693e5d64aa74ef67809a8.png\",\n    \"https://danbooru.donmai.us/data/__runa_kei_indie_virtual_youtuber_drawn_by_usotsuki_penta__0c52f02caf95b0c8bdc52134ea278f1f.jpg\",\n    \"https://danbooru.donmai.us/data/__natalia_luzu_kimlasca_lanvaldear_tales_of_and_1_more_drawn_by_muguet__cb408fad062b255a47f1b60316f9cffb.png\",\n    \"https://danbooru.donmai.us/data/__link_the_legend_of_zelda_and_1_more_drawn_by_joanne_tran__f9a8f8174c914319427a2d1d5879cb6a.jpg\",\n  ];\n  var images: React.DetailedHTMLProps<\n    React.ImgHTMLAttributes<HTMLImageElement>,\n    HTMLImageElement\n  >[] = [];\n  loadImages();\n\n  const [currentImage, setCurrentImage] = useState(\"\");\n\n  function loadImages() {\n    // images.push(<img src=></img>)\n    for (let i = 0; i < imgSource.length; i += 1) {\n      images.push(\n        <img\n          key={i}\n          className=\"imgTable\"\n          src={imgSource[i]}\n          onClick={() => {\n            selectImage(imgSource[i]);\n          }}\n        ></img>\n      );\n    }\n  }\n\n  function selectImage(source: string) {\n    // console.log(source)\n    setCurrentImage(source);\n  }\n\n  function setVisibility(visible: boolean) {\n    selectImage(\"\");\n  }\n\n  return (\n    <div>\n      {images}\n      <ImageViewer src={currentImage} setVisibility={setVisibility} />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}